<html>

<head>
    <script src="js/p5.min.js"></script>
    <script src="js/p5.dom.min.js"></script>
    <script src="js/p5.sound.min.js"></script>
    <script src="js/p5.geolocation.js"></script>
    <style>
    body {
        margin: 0;
    }
    </style>
</head>

<body>
    <script>
    var vh = window.innerHeight;
    var vw = window.innerWidth;
    var fence;

 // must be in HTTPS
function setup() {
    createCanvas(windowWidth, windowHeight);
    console.log('starting');
      noStroke();
    // get position once
    if (!navigator.geolocation) {
      alert("geolocation is required");
    }
    navigator.geolocation.getCurrentPosition(setPos);
    fence = new geoFenceCircle(21.311809, -157.838406, 0.10, insideTheFence, outsideTheFence, 'mi');
    console.log("You must be by Mr. Kam's class");
  }
  
  function setPos(position) {
    var lat = position.coords.latitude;
    var lng = position.coords.longitude;
    background(0);
    fill(255);
    textSize(32);
    text("Current position: " + nf(lat,2,2) + " " + nf(lng,2,2), 10, height/2);
  }

  function insideTheFence(position){
    console.log("INlat: " + position.latitude);
    console.log("INlong: " + position.longitude);
    console.log("user is inside of the fence")
}

function outsideTheFence(position){
    console.log("OUTlat: " + position.latitude);
    console.log("OUTlong: " + position.longitude);
    console.log("user is outside of the fence")
}
    </script>
</body>

</html>